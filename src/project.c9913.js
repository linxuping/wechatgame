window.__require=function t(o,e,i){function n(s,c){if(!e[s]){if(!o[s]){var a=s.split("/");if(a=a[a.length-1],!o[a]){var r="function"==typeof __require&&__require;if(!c&&r)return r(a,!0);if(l)return l(a,!0);throw new Error("Cannot find module '"+s+"'")}}var h=e[s]={exports:{}};o[s][0].call(h.exports,function(t){return n(o[s][1][t]||t)},h,h.exports,t,o,e,i)}return e[s].exports}for(var l="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({boll:[function(t,o,e){"use strict";cc._RF.push(o,"46e33Lf/o1NJrSwDSrTdW6w","boll"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,o,e){if("boxSprite"==e.node.name){console.log("boll.onBeginContact == boxSprite"),cc.audioEngine.playEffect(o.node.game.rockAudio,!1);var i=e.getComponent(cc.Sprite),n=i.getComponentInChildren(cc.Label),l=parseInt(n.string);o.node.game.score++,o.node.game.updateHint(),1==l?i.node.destroy():n.string=(--l).toString();var s=this.hslToRgb(.025*l,.5,.5);i.node.color=new cc.Color(s[0],s[1],s[2]),wx.getOpenDataContext().postMessage({text:"boll.js",year:(new Date).getFullYear()})}"lifeBox"==e.node.name&&(console.log("boll.onBeginContact == lifeBox"),cc.audioEngine.playEffect(o.node.game.circleAudio,!1),e.node.destroy(),o.node.game.addBolls++)},hslToRgb:function(t,o,e){var i,n,l;if(console.log("boll.hslToRgb"),0==o)i=n=l=e;else{var s=function(t,o,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(o-t)*e:e<.5?o:e<2/3?t+(o-t)*(2/3-e)*6:t},c=e<.5?e*(1+o):e+o-e*o,a=2*e-c;i=s(a,c,t+1/3),n=s(a,c,t),l=s(a,c,t-1/3)}return[Math.round(255*i),Math.round(255*n),Math.round(255*l)]}}),cc._RF.pop()},{}],bounceGame:[function(t,o,e){"use strict";cc._RF.push(o,"9ee48eR4DtEmZNt1HYcUdPD","bounceGame"),cc.Class({extends:cc.Component,properties:{bollDown:!1,isBegin:!1,isActivity:!1,isFirstBoll:!1,firstBollPositionX:0,allBolls:0,tampBolls:0,addBolls:0,level:1,score:1,indexBoll:{default:null,type:cc.Sprite},boxPrefab:{default:null,type:cc.Prefab},bollPrefab:{default:null,type:cc.Prefab},lifePrefab:{default:null,type:cc.Prefab},ground:{default:null,type:cc.Node},ballLink:{default:null,type:cc.Sprite},levelLabel:{default:null,type:cc.Label},allBollsLabel:{default:null,type:cc.Label},rockAudio:{default:null,url:cc.AudioClip},circleAudio:{default:null,url:cc.AudioClip},subCanvas:{default:null,type:cc.Node},button:{default:null,type:cc.Button}},onLoad:function(){this.texture=new cc.Texture2D,this.sprite=this.getComponent(cc.Sprite),console.log("[ xp ] bounceGame onLoad ... ..."),cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.node.getChildByName("subCanvas").getChildByName("button").on("click",this.onBtnClick,this),this.indexBoll.node.setPosition(cc.v2(this.firstBollPositionX,-350)),this.ballLink.node.setPosition(cc.v2(this.firstBollPositionX,-350)),this.ballLink.enabled=!1,this.ground.getComponent("groundSprite").game=this,this.initBox(),this.allBolls=1,this.level=1,this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.touchStart(t)}.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.touchMove(t)}.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.touchEnd(t)}.bind(this),this);for(var t=0;t<6;t++){var o=Math.ceil(10*Math.random())%2;if(console.log("isBox: ",o),1==o){var e=cc.instantiate(this.boxPrefab);this.node.addChild(e),e.setPosition(105*t-263,450);var i=this.hslToRgb(.025*this.level,.5,.5);e.color=new cc.Color(i[0],i[1],i[2])}}},onBtnClick:function(t){t.detail;cc.director.loadScene("bounceGame"),cc.director.resume()},updateHint:function(){this.levelLabel.getComponent(cc.Label).string=""+this.score},initBox:function(){if(console.log("[ xp ] bounceGame initBox ... ..."),this.level++,this.updateHint(),1==this.isBegin){for(var t=this.node.children,o=0;o<t.length;o++){var e=t[o];"boxSprite"!=e.name&&"lifeBox"!=e.name||e.position.y<=450&&(e.y-=100,-350==e.y&&this.showGameOver())}var i=!1;for(o=0;o<6;o++){if(1==Math.ceil(10*Math.random())%2)if(1==Math.ceil(10*Math.random())%2&&0==i){i=!0;var n=cc.instantiate(this.lifePrefab);n.setPosition(105*o-263,450),this.node.addChild(n)}else{var l=cc.instantiate(this.boxPrefab),s=l.children[0],c=Math.ceil(10*Math.random())%2;s.getComponent(cc.Label).string=1==c?2*this.level:this.level,l.setPosition(105*o-263,450);var a=this.hslToRgb(.025*this.level,.5,.5);l.color=new cc.Color(a[0],a[1],a[2]),this.node.addChild(l)}}this.bollDown=!1}},touchStart:function(t){console.log("[ xp ] bounceGame touchStart ... ..."),this.ballLink.node.setPosition(cc.v2(this.firstBollPositionX,-350))},touchMove:function(t){if(console.log("[ xp ] bounceGame touchMove ... ..."),0==this.isActivity){this.ballLink.enabled=!0;var o=t.touch._point.x;this.ballLink.node.setRotation(o),this.ballLink.node.rotation<280&&this.ballLink.node.setRotation(280),this.ballLink.node.rotation>440&&this.ballLink.node.setRotation(440)}},touchEnd:function(t){console.log("[ xp ] bounceGame touchEnd ... ..."),0==this.isActivity&&(this.ballLink.enabled=!1,this.allBollsLabel.enabled=!1,0==this.isBegin&&(this.isBegin=!0),this.schedule(function(){var t=cc.instantiate(this.bollPrefab);this.node.addChild(t),t.game=this,t.setPosition(cc.v2(this.firstBollPositionX,-350));var o=t.getComponent(cc.RigidBody),e=-this.ballLink.node.rotation-270,i=100*Math.cos(.017453293*e),n=100*Math.sin(.017453293*e);o.linearVelocity=cc.v2(10*i,10*n)}.bind(this),.08,this.allBolls-1),this.schedule(function(){this.indexBoll.enabled=!1,this.isFirstBoll=!1}.bind(this),.08*(this.allBolls-1),1),this.isActivity=!0)},showGameOver:function(){console.log("[ xp ] bounceGame showGameOver ... ..."),cc.director.pause();cc.view.getVisibleSize();var t=this.node.getChildByName("subCanvas");t.opacity=255,t.zIndex=999,console.log("subcanvas: "),console.log(t)},update:function(t){1==this.bollDown&&this.initBox(),1==this.isFirstBoll&&(this.indexBoll.enabled=!0,this.indexBoll.node.setPosition(cc.v2(this.firstBollPositionX,-350)))},hslToRgb:function(t,o,e){var i,n,l;if(console.log("[ xp ] bounceGame hslToRgb ... ..."),0==o)i=n=l=e;else{var s=function(t,o,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(o-t)*e:e<.5?o:e<2/3?t+(o-t)*(2/3-e)*6:t},c=e<.5?e*(1+o):e+o-e*o,a=2*e-c;i=s(a,c,t+1/3),n=s(a,c,t),l=s(a,c,t-1/3)}return[Math.round(255*i),Math.round(255*n),Math.round(255*l)]}}),cc._RF.pop()},{}],box:[function(t,o,e){"use strict";cc._RF.push(o,"64d28CtzUZHU6zwDKNtyRk2","box"),cc.Class({extends:cc.Component,properties:{boxtag:0},start:function(){console.log("[ xp ] box start ... ...")}}),cc._RF.pop()},{}],groundSprite:[function(t,o,e){"use strict";cc._RF.push(o,"7061e552B9BQZZm3GGw6d+3","groundSprite"),cc.Class({extends:cc.Component,properties:{isTouchBoll:!1,game:{default:null,serializable:!1}},onLoad:function(){},onBeginContact:function(t,o,e){console.log("[ xp ] groundSprite onBeginContact ... ..."),"bollSprite"==e.node.name&&(e.node.destroy(),0==this.isTouchBoll&&(this.game.firstBollPositionX=e.node.x,this.isTouchBoll=!0,this.game.isFirstBoll=!0),this.game.tampBolls++,this.game.tampBolls==this.game.allBolls&&(this.game.allBolls+=this.game.addBolls,this.game.addBolls=0,this.game.bollDown=!0,this.game.tampBolls=0,this.isTouchBoll=!1,this.game.isActivity=!1,this.game.allBollsLabel.enabled=!0,this.game.allBollsLabel.getComponent(cc.Label).string="x "+this.game.allBolls,this.game.allBollsLabel.node.setPosition(cc.v2(this.game.firstBollPositionX-30,-315))))},start:function(){}}),cc._RF.pop()},{}],lifeBox:[function(t,o,e){"use strict";cc._RF.push(o,"6700apouQpBKYVEhPCOXU/q","lifeBox"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,o,e){console.log("[ xp ] lifeBox onBeginContact ... ..."),"bollSprite"==e.node.name&&o.node.destroy()}}),cc._RF.pop()},{}]},{},["boll","bounceGame","box","groundSprite","lifeBox"]);